<div class="container">
  <div class="title"><h1>Add your own article!</h1></div>
  <form class="article-form" #articleForm="ngForm">
    <div
      class="row justify-content-center"
      *ngFor="let aut of authors; let i = index"
    >
    <label class="col-2" for="author">Author:</label>
      <div class="col-6 author-container">
        <div class="form-group row author-row">
          <input
            type="text"
            class="form-control"
            id="author"
            [(ngModel)]="authors[i]"
            name="author_{{ i }}"
            #author="ngModel"
            pattern="[a-zA-Z\s]{2,}"
            placeholder="Author"
          />
          <div
            [hidden]="author.valid || author.untouched"
            class="alert alert-danger"
          >
            Field is required and must contain 2 or more letters.
          </div>
        </div>
      </div>
    </div>
    <div class="row justify-content-center add-row">
      <div class="col-2">
        <span
          id="add-btn"
          class="fas fa-plus clickable"
          (click)="addFields(authors)"
        ></span>
      </div>
      <div class="col-2">
        <span
          id="remove-btn"
          class="fas fa-minus clickable"
          (click)="removeFields(authors)"
        ></span>
      </div>
    </div>
    <div class="row justify-content-end">
      <div class="col-2"></div>
      <hr class="col-5" />
    </div>
    <div class="form-group row justify-content-center">
      <label class="col-2" for="title">*Title:</label>
      <textarea
        class="form-control col-6"
        id="title"
        rows="1"
        required
        ngModel
        name="title"
        #title="ngModel"
        pattern="[a-zA-Z0-9\s]{5,}"
        placeholder="Title"
      ></textarea>
      <!-- for validation message. pristine means user hasn't changed value -->
      <div [hidden]="title.valid || title.untouched" class="alert alert-danger">
        Field is required. Name must contain 5 or more characters.
      </div>
    </div>
    <div class="form-group row justify-content-center">
      <label class="col-2" for="description">Description:</label>
      <textarea
        type="text"
        class="form-control col-6"
        rows="3"
        id="description"
        ngModel
        name="description"
        #description="ngModel"
        pattern="^[a-zA-Z0-9\s]{10,}"
        placeholder="Description"
      ></textarea>
      <div
        [hidden]="description.valid || description.untouched"
        class="alert alert-danger"
      >
        Field is required and must contain at least 10 characters.
      </div>
    </div>
    <div class="form-group row justify-content-center">
      <label class="col-2" for="content">*Content:</label>
      <textarea
        type="text"
        class="form-control col-6"
        rows="20"
        id="content"
        required
        ngModel
        name="content"
        #content="ngModel"
        pattern="[a-zA-Z0-9\s]{10,}"
        placeholder="Content"
      ></textarea>
      <div
        [hidden]="content.valid || content.untouched"
        class="alert alert-danger"
      >
        Field is required and must contain at least 10 characters.
      </div>
    </div>
    <div class="row justify-content-end">
      <!-- [disabled]...: button is disabled if some fields are invalid -->
      <button
        type="button"
        class="btn btn-outline-light col-1"
        [disabled]="!articleForm.form.valid"
        (click)="create(articleForm)"
      >
        Add
      </button>
      <div class="col-2"></div>
    </div>
  </form>
</div>
